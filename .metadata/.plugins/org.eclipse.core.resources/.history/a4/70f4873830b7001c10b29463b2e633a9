package coches;

import static org.junit.jupiter.api.Assertions.assertEquals;

import org.junit.jupiter.api.Test;

import modelo.entidades.Coche;
import modelo.persistencia.CocheDAOmySQL;
import modelo.persistencia.interfaces.DAOCocheInterfaz;

/*Quiero que probéis mediante JUNIT un método de vuestros.(obtener coche por id del DAO)
 * Quiero que generéis un ejecutable del proyecto mediante maven y que se pasen tambien las pruebas 
unitarias*/

public class CocheDAOmySQLTest {
	

	
	@Test
	void buscarCocheIdExistente(){
		
		int Idesperado = 2;
		
		DAOCocheInterfaz daoCocheI = new CocheDAOmySQL();
		
		Coche cocheObtenido = daoCocheI.buscarCocheId(2);
		int idObtenido = cocheObtenido.getId();
		assertEquals(Idesperado, idObtenido);

	}
	@Test
	void buscarCocheIdNoExistente(){
		
		int Idesperado = null;
		
		DAOCocheInterfaz daoCocheI = new CocheDAOmySQL();
		
		Coche cocheObtenido = daoCocheI.buscarCocheId(2);
		int idObtenido = cocheObtenido.getId();
		assertEquals(Idesperado, idObtenido);
		assertThrows(
				NullPointerException.class, 
				() -> daoCocheI.buscarCocheId(2)
		);

	}
}
